# API迁移指南：从OpenWeatherMap到和风天气

## 迁移步骤

### 1. 获取和风天气API密钥

1. 访问 [和风天气开发平台](https://dev.qweather.com/)
2. 注册账号并登录
3. 在控制台中创建新应用
4. 选择"Web API"类型
5. 获取你的API密钥（类似：`1234567890abcdef1234567890abcdef`）

### 2. 更新配置文件

将 `config.json` 中的 `api_key` 字段替换为你的和风天气API密钥：

```json
{
  "api_key": "你的和风天气API密钥"
}
```

### 3. API变更说明

- **旧API**: OpenWeatherMap (`api.openweathermap.org`)
- **新API**: 和风天气 (`devapi.qweather.com`)
- **优势**: 
  - 对中国地区天气数据更准确
  - 中文天气描述
  - 免费版每天1000次调用
  - 响应速度更快

### 4. 数据格式变更

程序已自动处理数据格式转换，你无需修改其他代码。主要变更：
- 风速单位从 km/h 自动转换为 m/s
- 天气描述使用中文
- 温度、湿度等数据格式保持兼容

### 5. 测试

更新API密钥后，运行以下命令测试：

```bash
python main.py
```

如果看到天气信息和骑行建议，说明迁移成功！

## 故障排除

- **错误代码401**: API密钥无效，请检查密钥是否正确
- **错误代码402**: 超出调用限制，请升级套餐或等待重置
- **网络错误**: 检查网络连接和防火墙设置